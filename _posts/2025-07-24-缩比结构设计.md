---
layout: post
title: "缩比结构设计"
date: 2025-07-24
description: "Project_01 缩比结构项目历程"
tag: Projects
---
 
## 2025-07-24

### 1. Zemax非序列追迹

1-1. 在进行0视场追迹的时候，通过路径分析发现到达探测器的光线只有36%，为了解决这个问题，之后又给很多面镀了AR膜，探测器光线确实变多，但是发现这样做没有必要：因为透过率低没有问题，只要不影响成像即可。（没有要求能量随时率低？再查一下）
1-2. 在Zemax非序列模式下删除了所有镜片的镀膜，打开所有椭圆光源进行追迹，通过探测器查看器查看成像质量，找到抑制鬼像的关键面并镀膜，重新使用各个单光源进行杂散该光分析。

2-1. 尝试打开所有光源，考虑镜筒CAD文件进行非序列追迹。发现“能量损耗（错误）”很大，甚至大于“能量损耗（阈值）”，查询Zemax用户手册，发现又多种可能原因： 
    *“有时几何误差或舍入误差会导致光线追迹无法继续进行。几何误差通常是由欠定义的实体或不合适的物体嵌套所导致的。当某个表面的迭代失败或者无法计算膜层数据时，有可能造成一些光线的入射点和折射数据计算有误。当光线经过物体的交切点、嵌套层或线段数量达到所设定的最大值时，光线追迹同样会报错并中止。光线追迹控制会将这类错误造成的损耗显示在能量损耗（错误）中。 ”*

2-2. 最终暂时放弃解决这个问题，由于：如果我使用加了镜筒的完整模型A与完整缩比模型B来对比的话，我依旧需要SW来设计B的镜筒STEP文件，做到这一步的话，我完全可以通过TracePro来进行杂散光分析，而不是Zemax。
    所以简便起见，我暂时搁置加入镜筒导致的追迹错误，决定先用裸镜头组来比较A、B模型，明天缩比序列模型B，随后NSC非序列追迹。

## 2025-08-07

### 1. Zemax非序列追迹——探测器查看器

* `X_IAGT(n,v)` ：在物体n上绝对强度大于v值的光线。如果光线不交于物体，则该标志为false。 
* `X_IALT(n,v)` ：在物体n上绝对强度小于v值的光线。如果光线不交于物体，则该标志为false。 
**其中 v 的单位需与光线强度单位匹配。**
例如：如下图，若光线强度单位是 “瓦特”，且探测器峰辐照度为 48.89 W/cm²（总功率 7.41 W，探测器面积 124mm×124mm≈153.76 cm²，则平均单光线强度≈7.41 W / 4400 条 ≈ 0.0017 W/条）。

![](/images/posts/optics/Detector_IAGT.png)

此时若设置 `X_IAGT(34, 0.0017)`，可筛选出单光线强度仅 > 0.0017 W的像素点，即这些像素点至少被两条光线击中。
一点思考：此时设定的`X_IAGT(34, 0.001)`，此阈值下总撞击数刚好为我此次追迹设定的总光线数4400，似乎是刚好过滤掉鬼像等光线。后续尝试（如下图），设定字符串`!G0`筛选出非鬼像光线，此时撞击数恰好是4400，证明了`X_IAGT(34, 0.001)`确实过滤掉了鬼像。

![](/images/posts/optics/Detector_!G0.png)

### 2. Zemax探测器查看器概念解释

* 1、非相干照度 ：随探测器上空间位置变化的单位面积上的非相干辐射通量。是光线辐照度的叠加，不考虑相位因素。与其对应的是，相干辐照度，是光线复振幅相加，考虑相位因素，得到的是相干辐射通量。也就说后者会考虑相干因素；
* 2、峰值辐照度：光束中任意点的单位面积的最大功率；
* 3、总功率：对整个光束辐照度的积分（也就是光束总能量）。这里边辐照度你就可以理解成光功率密度，只是差一个视见函数而已。至于总功率为什么会随之探测器大小变化，我觉得是因为当探测面小时，其实部分光线未被接收所以导致小探测器的功率也小，另外大的探测器面也会接收一些杂散光，只能要把光斑包住，两者应该差距不大；
* 4、非相干辐照度，即每个像素点对应辐照度值。


<p> </p>

